jQuery(function(w){w(document).ready(function(){w(function(){w('[data-toggle="tooltip"]').tooltip(),w('[data-toggle="tooltip"]').tooltip({customClass:"tooltip-custom"})}),w(".mySwiper .swiper-slide").click(function(){w(".mySwiper2").addClass("translate-x")}),w(".mySwiper .swiper-slide").each(function(){w(this).click(function(){w(".mySwiper .swiper-slide").removeClass("active"),w(this).addClass("active")})}),w(".more-tags").click(function(){w(".hidden-tags").toggleClass("d-lg-none"),w(".more-tags .more").toggleClass("d-none"),w(".more-tags .less").toggleClass("d-none")}),w(".more-text").click(function(){w(".hidden-text").toggleClass("d-none"),w(".more-text .more").toggleClass("d-none"),w(".more-text .less").toggleClass("d-none"),w(".gradient-image").toggleClass("d-none")}),w(".home-page header").addClass("loaded"),w(".home-page .initial-state .img-wrapper").addClass("loaded"),w(".home-page .initial-state .state-content").addClass("loaded"),w(".home-page .initial-state .state-content").addClass("loaded"),w(".home-page .fixed-bottom .accordion").addClass("loaded"),setTimeout(function(){w(".home-page .mySwiper .swiper-slide").addClass("loaded")},2e3);var t=[];w(document).on("click",".partners-logo a",function(){w(".partners-logo").removeClass("active"),w(this).parent().addClass("active"),t=w(this).attr("data-tag"),thispartner=w(this).attr("data-partner");var e=t.split(",");w(".map-pins-list a").each(function(){w(this).removeClass("active"),interTags=w(this).attr("data-tag"),intersectingColors=e.includes(interTags),intersectingColors&&w(this).addClass("active")}),w(".brand-logo").each(function(){w(this).addClass("d-none"),interPartner=w(this).attr("data-partner"),intersecting=thispartner.includes(interPartner),intersecting&&w(this).removeClass("d-none")})}),w(".navbar-toggler").click(function(){w(".open-menu").toggleClass("d-none"),w(".close-menu").toggleClass("d-none"),w("body").toggleClass("overflow-hidden")});var n=null;w(".scroll-to-tabs-anchor").on("click",function(e){w(".scroll-to-tabs-anchor").each(function(){w(this).removeClass("active")}),w(this).addClass("active"),n=w(this).attr("data-href"),w("html, body").animate({scrollTop:w(n).offset().top-100},100)});var e;w(".filter");w(".filter").click(function(){e=w(this).attr("data-filter"),w(".listing .listing-item:not([data-filter="+e+"])"),w(".listing .listing-item[data-filter="+e+"]"),w(".listing .listing-item:not([data-filter="+e+"])").each(function(){w(this).addClass("hideItem"),w(this).removeClass("showItem")}),w(".listing [data-filter="+e+"]").each(function(){w(this).addClass("showItem"),w(this).removeClass("hideItem")}),"all"==e&&w(".listing .listing-item").each(function(){w(this).removeClass("hideItem")}),w(".filter").each(function(){w(this).removeClass("active")}),w(this).addClass("active")}),w(".search-icon").click(function(){w(".search").toggleClass("open"),w("body").toggleClass("overflow-hidden"),w("header").toggleClass("open")}),w(".search .btn-close").click(function(){w(".search").toggleClass("open"),w("body").toggleClass("overflow-hidden"),w("header").toggleClass("open")}),w(".modalSwiper .swiper-slide").click(function(){w(".video-modal .swiper-slide video").each(function(){this.pause()})}),w(".video-modal .btn-close").click(function(){w(".video-modal .swiper-slide video").each(function(){this.pause()})});var a=w(".cd-horizontal-timeline"),s=60;function l(e,t,n){var i=f(e.eventsWrapper),a=Number(e.timelineWrapper.css("width").replace("px",""));"next"==n?r(e,i-a+s,a-t):r(e,i+a-s)}function o(e,t,n){var i=e.eventsContent.find(".selected");if(0<("next"==n?i.next():i.prev()).length){var a=e.eventsWrapper.find(".selected"),s="next"==n?a.parent("li").next("li").children("a"):a.parent("li").prev("li").children("a");c(s,e.fillingLine,t),d(s,e.eventsContent),s.addClass("selected"),a.removeClass("selected"),p(s),function(e,t,n,i){var a=window.getComputedStyle(t.get(0),null),s=Number(a.getPropertyValue("left").replace("px","")),l=Number(n.timelineWrapper.css("width").replace("px","")),o=(i=Number(n.eventsWrapper.css("width").replace("px","")),f(n.eventsWrapper));("next"==e&&l-o<s||"prev"==e&&s<-o)&&r(n,l/2-s,l-i)}(n,s,e,t)}}function r(e,t,n){t=0<t?0:t,v(e.eventsWrapper.get(0),"translateX",(t=void 0!==n&&t<n?n:t)+"px"),0==t?e.timelineNavigation.find(".prev").addClass("inactive"):e.timelineNavigation.find(".prev").removeClass("inactive"),t==n?e.timelineNavigation.find(".next").addClass("inactive"):e.timelineNavigation.find(".next").removeClass("inactive")}function c(e,t,n){var i=window.getComputedStyle(e.get(0),null),a=i.getPropertyValue("left"),s=i.getPropertyValue("width"),l=(a=Number(a.replace("px",""))+Number(s.replace("px",""))/2)/n;v(t.get(0),"scaleX",l)}function d(e,t){var n=e.data("date"),i=t.find(".selected"),a=t.find('[data-date="'+n+'"]'),s=a.height();if(a.index()>i.index())var l="selected enter-right",o="leave-left";else l="selected enter-left",o="leave-right";a.attr("class",l),i.attr("class",o).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){i.removeClass("leave-right leave-left"),a.removeClass("enter-left enter-right")}),t.css("height",s+"px")}function p(e){e.parent("li").prevAll("li").children("a").addClass("older-event").end().end().nextAll("li").children("a").removeClass("older-event")}function f(e){var t=window.getComputedStyle(e.get(0),null);if(0<=(n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")).indexOf("("))var n,i=(n=(n=(n=n.split("(")[1]).split(")")[0]).split(","))[4];else i=0;return Number(i)}function v(e,t,n){e.style["-webkit-transform"]=t+"("+n+")",e.style["-moz-transform"]=t+"("+n+")",e.style["-ms-transform"]=t+"("+n+")",e.style["-o-transform"]=t+"("+n+")",e.style.transform=t+"("+n+")"}function h(e,t){return Math.round(t-e)}function m(e){for(var t=e.offsetTop,n=e.offsetLeft,i=e.offsetWidth,a=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+a>window.pageYOffset&&n+i>window.pageXOffset}function u(){return window.getComputedStyle(document.querySelector(".cd-horizontal-timeline"),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}0<a.length&&a.each(function(){var t=w(this),n={};n.timelineWrapper=t.find(".events-wrapper"),n.eventsWrapper=n.timelineWrapper.children(".events"),n.fillingLine=n.eventsWrapper.children(".filling-line"),n.timelineEvents=n.eventsWrapper.find("a"),n.timelineDates=function(e){var t=[];return e.each(function(){var e=w(this).data("date");t.push(e)}),t}(n.timelineEvents),n.eventsMinLapse=function(e){var t=[];for(i=1;i<e.length;i++){var n=h(e[i-1],e[i]);t.push(n)}return Math.min.apply(null,t)}(n.timelineDates),n.timelineNavigation=t.find(".cd-timeline-navigation"),n.eventsContent=t.children(".events-content"),function(e,t){for(i=0;i<e.timelineDates.length;i++){var n=h(e.timelineDates[0],e.timelineDates[i]),a=Math.round(n/e.eventsMinLapse)+2;e.timelineEvents.eq(i).css("left",a*t+"px")}}(n,s);var a=function(e,t){var n=h(e.timelineDates[0],e.timelineDates[e.timelineDates.length-1])/e.eventsMinLapse,i=(n=Math.round(n)+4)*t;return e.eventsWrapper.css("width",i+"px"),c(e.timelineEvents.eq(0),e.fillingLine,i),i}(n,s);t.addClass("loaded"),n.timelineNavigation.on("click",".next",function(e){e.preventDefault(),l(n,a,"next")}),n.timelineNavigation.on("click",".prev",function(e){e.preventDefault(),l(n,a,"prev")}),n.eventsWrapper.on("click","a",function(e){e.preventDefault(),n.timelineEvents.removeClass("selected"),w(this).addClass("selected"),p(w(this)),c(w(this),n.fillingLine,a),d(w(this),n.eventsContent)}),n.eventsContent.on("swipeleft",function(){"mobile"==u()&&o(n,a,"next")}),n.eventsContent.on("swiperight",function(){"mobile"==u()&&o(n,a,"prev")}),w(document).keyup(function(e){"37"==e.which&&m(t.get(0))?o(n,a,"prev"):"39"==e.which&&m(t.get(0))&&o(n,a,"next")})}),w(".range-container li a").click(function(){w(".range-container").each(function(){w(this).removeClass("active")}),w(this).parent().parent().addClass("active")});var g,C;w(".event-li").siblings().length;w(".timeline-next").click(function(){(g=w(".events .selected").parent()).hasClass("last")?(g.parent().removeClass("active"),(C=g.parent().parent().next().find(".range-container")).addClass("active"),C.find(".first a").click()):w(".events .selected").parent().next().find("a").click()}),w(".timeline-prev").click(function(){(g=w(".events .selected").parent()).hasClass("first")?(g.parent().removeClass("active"),(C=g.parent().parent().prev().find(".range-container")).addClass("active"),C.find(".last a").click()):w(".events .selected").parent().prev().find("a").click()}),w(".year-wrapper").click(function(){w(".year-wrapper").each(function(){w(this).find(".range-container").removeClass("active")}),w(this).find(".range-container").addClass("active")}),w(".fixed-bottom .accordion").click(function(){function t(e,t){var n=w("#slider-"+e+"-label");n.text(t);var i=w("#slider-div ."+e+"-slider-handle")[0].getBoundingClientRect();n.offset({left:i.left})}function n(e){t("min",e[0]),t("max",e[1])}w("#ex2").slider().on("slide",function(e){n(e.value)}),n(w("#ex2").attr("data-value").split(","))}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?w(".partners-logo a").on("click",function(){w("html, body").animate({scrollTop:w(".brand-logos").offset().top-100},100)}):w(".map-pins-list a").click(function(){w('[data-toggle="tooltip"]').tooltip("hide")})}),w.fn.moveIt=function(){var e=w(window),n=[];w(this).each(function(){n.push(new t(w(this)))}),window.addEventListener("scroll",function(){var t=e.scrollTop();n.forEach(function(e){e.update(t)})},{passive:!0})};var t=function(e){this.el=w(e),this.speed=parseInt(this.el.attr("data-scroll-speed"))};t.prototype.update=function(e){this.el.css("transform","translateY("+-e/this.speed+"px)"),this.el.css("margin-bottom",-e/this.speed+"px")},w(function(){w("[data-scroll-speed]").moveIt()}),w.fn.moveItX=function(){var e=w(window),n=[];w(this).each(function(){n.push(new a(w(this)))}),window.addEventListener("scroll",function(){var t=e.scrollTop();n.forEach(function(e){e.update(t)})},{passive:!0})};var a=function(e){this.el=w(e),this.speed=parseInt(this.el.attr("data-scroll-speed-x"))};a.prototype.update=function(e){this.el.css("transform","translateX("+-e/this.speed+"px)")},w(function(){w("[data-scroll-speed-x]").moveItX()})});